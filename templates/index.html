<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LLaVA Flask Real</title>
<style>
body { font-family: Arial; display:flex; flex-direction:column; align-items:center; padding:40px; background:#f9f9f9; }
h1 { margin-bottom:20px; }
input, button { padding:10px; margin-top:10px; border-radius:6px; border:1px solid #ccc; }
button { background:#2196F3; color:white; border:none; cursor:pointer; }
button:hover { background:#1976D2; }
#preview { max-width:80%; margin-top:20px; border-radius:8px; display:block; }
#answer { margin-top:20px; padding:15px; background:#f1f1f1; border-radius:6px; max-width:80%; white-space: pre-wrap; }
form { display:flex; flex-direction:column; align-items:center; }
</style>
</head>
<body>

<h1>LLaVA: Pergunte sobre sua imagem</h1>

<!-- Formulário de upload -->
<form method="POST" enctype="multipart/form-data">
    <input type="file" name="image" required>
    <button type="submit">Enviar Imagem</button>
</form>

{% if image_url %}
<img id="preview" src="{{ image_url }}" alt="Pré-visualização">

<!-- Botão para deletar a imagem -->
<form method="POST" action="{{ url_for('delete_file', filename=image_name) }}">
    <button type="submit">Excluir Imagem</button>
</form>

<!-- Formulário para perguntas -->
<form method="POST">
    <input type="hidden" name="image_name" value="{{ image_name }}">
    <input type="text" name="question" placeholder="Digite sua pergunta" required>
    <button type="submit">Perguntar</button>
</form>
{% endif %}

{% if answer %}
<div id="answer">{{ answer }}</div>
{% endif %}

</body>
</html>
